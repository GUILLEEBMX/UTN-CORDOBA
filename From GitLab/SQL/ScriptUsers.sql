CREATE TABLE USUARIOS
(
ID_USUARIO INT IDENTITY(1,1),
NOMBRE VARCHAR (100),
CONTRASE헤 VARBINARY (8000),
EMAIL VARCHAR (100),
ESADMIN BIT
CONSTRAINT PK_USUARIOS PRIMARY KEY (ID_USUARIO) 

)

SELECT * FROM USUARIOS;


CREATE PROCEDURE REGISTRAR_USUARIOS
@NOMBRE VARCHAR (100),
@EMAIL VARCHAR (100),
@ESADMIN BIT,
@CONTRASE헤 VARCHAR (50)
AS 
BEGIN
INSERT INTO USUARIOS (NOMBRE,EMAIL,ESADMIN,CONTRASE헤) VALUES (@NOMBRE,@EMAIL,@ESADMIN,ENCRYPTBYPASSPHRASE('password',@CONTRASE헤))
END;



ALTER PROCEDURE [dbo].[LOGGIN_USUARIOS]
@EMAIL VARCHAR (100),
@PASSWORD VARCHAR (100) OUTPUT
AS
BEGIN
SELECT @PASSWORD = CONVERT(VARCHAR(MAX),DECRYPTBYPASSPHRASE('password',CONTRASE헤)) FROM USUARIOS WHERE EMAIL = @EMAIL
END